<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate Impact Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4CAF50',
                        'dark-bg': '#121212',
                        'card-bg': '#1e1e1e',
                        'light-text': '#e0e0e0',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
    <link rel="stylesheet" href="styles/main.css">
</head>

<body class="bg-dark-bg text-light-text min-h-screen">

    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <header class="bg-card-bg rounded-xl shadow-2xl p-6 mb-8 border-b-4 border-primary text-center">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-primary mb-2">üåç Climate Impact Explorer</h1>
            <p class="text-xl text-gray-400">Visualizing the effects of a changing climate worldwide.</p>
            
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mt-6">
                <input 
                    type="text" 
                    id="location-search" 
                    placeholder="Search for a location (city, country)..."
                    class="w-full sm:w-2/5 p-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-light-text focus:outline-none focus:border-primary transition duration-300"
                >
                <button 
                    id="search-button"
                    class="w-full sm:w-auto px-6 py-3 bg-primary hover:bg-green-600 text-white font-semibold rounded-lg shadow-md transition duration-300"
                >
                    Search Impact
                </button>
            </div>
        </header>

        <main>

            <section class="mb-12">
                <h2 class="text-3xl font-bold text-primary mb-4 border-b border-gray-700 pb-2">Interactive Impact Map</h2>
                
                <div id="impact-map" class="h-[500px] w-full bg-gray-800 rounded-xl shadow-xl overflow-hidden"></div>
                <p class="mt-3 text-center text-gray-400 italic">Click on a region or use the search bar to explore detailed data.</p>
            </section>

            <hr class="border-gray-700 my-10">

            <section class="ai-analysis-section mb-12">
                <h2 class="text-3xl font-bold text-white mb-4 border-b border-gray-700 pb-2">ü§ñ AI Climate Situation Analysis</h2>
                <div id="ai-response-box" class="bg-card-bg p-6 rounded-xl shadow-2xl min-h-[150px]">
                    <p id="ai-text-content" class="text-gray-300 italic">
                        Search for a location to generate a localized climate change summary powered by AI.
                    </p>
                </div>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-primary mb-6 border-b border-gray-700 pb-2">Detailed Data Visualizations</h2>
    
                <!-- Updated charts grid: 1 column on mobile, 2 columns on md and larger -->
                <div class="charts-grid grid grid-cols-1 md:grid-cols-2 gap-6">
        
                    <div class="graph-box bg-card-bg p-5 rounded-lg shadow-lg hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]" id="graph-temp-anomaly">
                        <h3 class="text-xl font-semibold text-white mb-3 border-b border-gray-700 pb-2">Temperature Anomaly</h3>
                        <canvas id="chart-temp" class="w-full h-[24rem]"></canvas>
                    </div>

                    <div class="graph-box bg-card-bg p-5 rounded-lg shadow-lg hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]" id="graph-sea-level">
                        <h3 class="text-xl font-semibold text-white mb-3 border-b border-gray-700 pb-2">Sea Level Change</h3>
                        <canvas id="chart-sea" class="w-full h-[24rem]"></canvas>
                    </div>

                    <div class="graph-box bg-card-bg p-5 rounded-lg shadow-lg hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]" id="graph-co2">
                        <h3 class="text-xl font-semibold text-white mb-3 border-b border-gray-700 pb-2">Atmospheric CO‚ÇÇ</h3>
                        <canvas id="chart-co2" class="w-full h-[24rem]"></canvas>
                    </div>

                    <div class="graph-box bg-card-bg p-5 rounded-lg shadow-lg hover:shadow-2xl transition duration-300 transform hover:scale-[1.02]" id="graph-custom">
                        <h3 class="text-xl font-semibold text-white mb-3 border-b border-gray-700 pb-2">Regional Metric</h3>
                        <canvas id="chart-custom" class="w-full h-[24rem]"></canvas>
                        <p class="text-gray-500 text-sm mt-2">Data will load here after search...</p>
                    </div>

                </div>
            </section>


        </main>

        <footer class="mt-12 pt-6 border-t border-gray-800 text-center text-gray-500 text-sm">
            <p>&copy; 2025 Climate Impact Dashboard | Data provided by relevant APIs.</p>
        </footer>

    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="scripts/config.js"></script>
    <script type="module" src="scripts/text_gen.js"></script>
    <script type="module" src="scripts/main.js"></script>

</body>
</html>
